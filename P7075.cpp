#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;
typedef long long ll;
int main()
{
    int Q;
    scanf("%d", &Q);
    while (Q--)
    {
        ll t;
        int d, m, y = -4713;
        scanf("%lld", &t);
        ++t;
        if (t <= 2299161)
        {
            y += 4 * (t / 1461);
            t = t % 1461;
            if (t == 0)
            {
                t = 365;
                --y;
            }
            if (t > 366)
            {
                t -= 366;
                ++y;
                if (t > 365)
                {
                    t -= 365;
                    ++y;
                    if (t > 365)
                    {
                        t -= 365;
                        ++y;
                    }
                }
            }
            if (y >= 0)
                ++y;
            if ((y < 0 && ((-1 - y) % 4 == 0)) || (y > 0 && y % 4 == 0))
            {
                if (t <= 31)
                {
                    d = t;
                    m = 1;
                }
                if (t > 31 && t <= 60)
                {
                    d = t - 31;
                    m = 2;
                }
                if (t > 60 && t <= 91)
                {
                    d = t - 60;
                    m = 3;
                }
                if (t > 91 && t <= 121)
                {
                    d = t - 91;
                    m = 4;
                }
                if (t > 121 && t <= 152)
                {
                    d = t - 121;
                    m = 5;
                }
                if (t > 152 && t <= 182)
                {
                    d = t - 152;
                    m = 6;
                }
                if (t > 182 && t <= 213)
                {
                    d = t - 182;
                    m = 7;
                }
                if (t > 213 && t <= 244)
                {
                    d = t - 213;
                    m = 8;
                }
                if (t > 244 && t <= 274)
                {
                    d = t - 244;
                    m = 9;
                }
                if (t > 274 && t <= 305)
                {
                    d = t - 274;
                    m = 10;
                }
                if (t > 305 && t <= 335)
                {
                    d = t - 305;
                    m = 11;
                }
                if (t > 335 && t <= 366)
                {
                    d = t - 335;
                    m = 12;
                }
            }
            else
            {
                if (t <= 31)
                {
                    d = t;
                    m = 1;
                }
                if (t > 31 && t <= 59)
                {
                    d = t - 31;
                    m = 2;
                }
                if (t > 59 && t <= 90)
                {
                    d = t - 59;
                    m = 3;
                }
                if (t > 90 && t <= 120)
                {
                    d = t - 90;
                    m = 4;
                }
                if (t > 120 && t <= 151)
                {
                    d = t - 120;
                    m = 5;
                }
                if (t > 151 && t <= 181)
                {
                    d = t - 151;
                    m = 6;
                }
                if (t > 181 && t <= 212)
                {
                    d = t - 181;
                    m = 7;
                }
                if (t > 212 && t <= 243)
                {
                    d = t - 212;
                    m = 8;
                }
                if (t > 243 && t <= 273)
                {
                    d = t - 243;
                    m = 9;
                }
                if (t > 273 && t <= 304)
                {
                    d = t - 273;
                    m = 10;
                }
                if (t > 304 && t <= 334)
                {
                    d = t - 304;
                    m = 11;
                }
                if (t > 334 && t <= 365)
                {
                    d = t - 334;
                    m = 12;
                }
            }
            printf("%d %d ", d, m);
            if (y < 0)
                printf("%d BC\n", -y);
            else
                printf("%d\n", y);
        }
        else
        {
            t -= 2299161;
            y = 1582;
            if (t <= 17)
            {
                d = t + 14;
                m = 10;
            }
            if (t > 17 && t <= 47)
            {
                d = t - 17;
                m = 11;
            }
            if (t > 47 && t <= 78)
            {
                d = t - 47;
                m = 12;
            }
            if (t > 78)
            {
                t -= 78;
                y = 1583;
                if (t > 365)
                {
                    t -= 365;
                    y = 1584;
                    if (t <= 5844)
                    {
                        y += 4 * (t / 1461);
                        t = t % 1461;
                        if (t == 0)
                        {
                            t = 365;
                            --y;
                        }
                        if (t > 366)
                        {
                            t -= 366;
                            ++y;
                        }
                        if (t > 365)
                        {
                            t -= 365;
                            ++y;
                        }
                        if (t > 365)
                        {
                            t -= 365;
                            ++y;
                        }
                    }
                    else
                    {
                        t -= 5844;
                        y = 1600;
                        y += 400 * (t / 146097);
                        t = t % 146097;
                        if (t == 0)
                        {
                            t = 365;
                            --y;
                        }
                        if (t > 366 && t <= 36525)
                        {
                            y += 4 * (t / 1461);
                            t = t % 1461;
                            if (t == 0)
                            {
                                t = 365;
                                --y;
                            }
                            if (t > 366)
                            {
                                t -= 366;
                                ++y;
                                if (t > 365)
                                {
                                    t -= 365;
                                    ++y;
                                    if (t > 365)
                                    {
                                        t -= 365;
                                        ++y;
                                    }
                                }
                            }
                        }
                        if (t > 36525 && t <= 73049)
                        {
                            t -= 36525;
                            y += 100;
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            y += 4 * (t / 1461);
                            t = t % 1461;
                            if (t == 0)
                            {
                                t = 365;
                                --y;
                            }
                            if (t > 366)
                            {
                                t -= 366;
                                ++y;
                                if (t > 365)
                                {
                                    t -= 365;
                                    ++y;
                                    if (t > 365)
                                    {
                                        t -= 365;
                                        ++y;
                                    }
                                }
                            }
                        }
                        if (t > 73049 && t <= 109573)
                        {
                            t -= 73049;
                            y += 200;
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            y += 4 * (t / 1461);
                            t = t % 1461;
                            if (t == 0)
                            {
                                t = 365;
                                --y;
                            }
                            if (t > 366)
                            {
                                t -= 366;
                                ++y;
                                if (t > 365)
                                {
                                    t -= 365;
                                    ++y;
                                    if (t > 365)
                                    {
                                        t -= 365;
                                        ++y;
                                    }
                                }
                            }
                        }
                        if (t > 109573 && t <= 146097)
                        {
                            t -= 109573;
                            y += 300;
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            if (t > 365)
                            {
                                t -= 365;
                                ++y;
                            }
                            y += 4 * (t / 1461);
                            t = t % 1461;
                            if (t == 0)
                            {
                                t = 365;
                                --y;
                            }
                            if (t > 366)
                            {
                                t -= 366;
                                ++y;
                                if (t > 365)
                                {
                                    t -= 365;
                                    ++y;
                                    if (t > 365)
                                    {
                                        t -= 365;
                                        ++y;
                                    }
                                }
                            }
                        }
                    }
                }
                if ((y % 100 == 0 && y % 400 == 0) || (y % 100 != 0 && y % 4 == 0))
                {
                    if (t <= 31)
                    {
                        d = t;
                        m = 1;
                    }
                    if (t > 31 && t <= 60)
                    {
                        d = t - 31;
                        m = 2;
                    }
                    if (t > 60 && t <= 91)
                    {
                        d = t - 60;
                        m = 3;
                    }
                    if (t > 91 && t <= 121)
                    {
                        d = t - 91;
                        m = 4;
                    }
                    if (t > 121 && t <= 152)
                    {
                        d = t - 121;
                        m = 5;
                    }
                    if (t > 152 && t <= 182)
                    {
                        d = t - 152;
                        m = 6;
                    }
                    if (t > 182 && t <= 213)
                    {
                        d = t - 182;
                        m = 7;
                    }
                    if (t > 213 && t <= 244)
                    {
                        d = t - 213;
                        m = 8;
                    }
                    if (t > 244 && t <= 274)
                    {
                        d = t - 244;
                        m = 9;
                    }
                    if (t > 274 && t <= 305)
                    {
                        d = t - 274;
                        m = 10;
                    }
                    if (t > 305 && t <= 335)
                    {
                        d = t - 305;
                        m = 11;
                    }
                    if (t > 335 && t <= 366)
                    {
                        d = t - 335;
                        m = 12;
                    }
                }
                else
                {
                    if (t <= 31)
                    {
                        d = t;
                        m = 1;
                    }
                    if (t > 31 && t <= 59)
                    {
                        d = t - 31;
                        m = 2;
                    }
                    if (t > 59 && t <= 90)
                    {
                        d = t - 59;
                        m = 3;
                    }
                    if (t > 90 && t <= 120)
                    {
                        d = t - 90;
                        m = 4;
                    }
                    if (t > 120 && t <= 151)
                    {
                        d = t - 120;
                        m = 5;
                    }
                    if (t > 151 && t <= 181)
                    {
                        d = t - 151;
                        m = 6;
                    }
                    if (t > 181 && t <= 212)
                    {
                        d = t - 181;
                        m = 7;
                    }
                    if (t > 212 && t <= 243)
                    {
                        d = t - 212;
                        m = 8;
                    }
                    if (t > 243 && t <= 273)
                    {
                        d = t - 243;
                        m = 9;
                    }
                    if (t > 273 && t <= 304)
                    {
                        d = t - 273;
                        m = 10;
                    }
                    if (t > 304 && t <= 334)
                    {
                        d = t - 304;
                        m = 11;
                    }
                    if (t > 334 && t <= 365)
                    {
                        d = t - 334;
                        m = 12;
                    }
                }
            }
            printf("%d %d %d\n", d, m, y);
        }
    }
    return 0;
}